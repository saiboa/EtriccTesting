<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="epia.componentconfiguration" type="Egemin.Epia.Foundation.ComponentManagement.ConfigurationStore.XmlEntities.ComponentManagerConfiguration, Egemin.Epia.Foundation" allowLocation="true" allowDefinition="Everywhere" allowExeDefinition="MachineToApplication" overrideModeDefault="Allow" restartOnExternalChanges="true" requirePermission="true" />
    <section name="loggingConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.LoggingSettings, Microsoft.Practices.EnterpriseLibrary.Logging" />
    <section name="dataConfiguration" type="Microsoft.Practices.EnterpriseLibrary.Data.Configuration.DatabaseSettings, Microsoft.Practices.EnterpriseLibrary.Data" />
  </configSections>

  <appSettings>
    <add key="WcfServiceDescriptionPath" value=".\Data\WcfServiceDescription" />
  </appSettings>

  <epia.componentconfiguration>
    <componentinstances>
      <componentinstance uid="0" blueprinttype="Egemin.Etricc.Components.EtriccCore, Egemin.Etricc.Components" sequencenumber="0">
        <parameters>
	  <parameter name="XmlFile" value=".\Data\Etricc\Demo.xml" />
            <!--<parameter name="XmlFile" value=".\Data\Etricc\LeroyMerlin_Simulation.xml" />-->
          <!--<parameter name="XmlFile" value=".\Data\Etricc\VorarlbergMilch_Simulation_Dirk.xml" />-->
          <!--<parameter name="XmlFile" value=".\Data\Etricc\MMPNeupackPolska_Hybrid.session.2021.04.08.025.session.2021.04.21.000.xml" />-->
            <!--<parameter name="ColdStart" value="false" />-->
          <!--<parameter name="BeforeActivateScript" value=".\Data\Etricc\TestScript.cs" />-->
          <!--<parameter name="AfterActivateScript" value=".\Data\Etricc\TestScript.cs" />-->
          <!--<parameter name="BeforeDeactivateScript" value=".\Data\Etricc\TestScript.cs" />-->
          <!--<parameter name="AfterDeactivateScript" value=".\Data\Etricc\TestScript.cs" />-->
        </parameters>
      </componentinstance>
      <componentinstance uid="1" blueprinttype="Egemin.Etricc.Components.LayoutService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="2" blueprinttype="Egemin.Etricc.Components.AgvService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="3" blueprinttype="Egemin.Etricc.Components.LocationService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="4" blueprinttype="Egemin.Etricc.Components.TransportService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="5" blueprinttype="Egemin.Etricc.Components.JobService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="6" blueprinttype="Egemin.Etricc.Components.LoadService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="7" blueprinttype="Egemin.Etricc.Components.FieldFunctionService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="8" blueprinttype="Egemin.Etricc.Components.FieldPortService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="9" blueprinttype="Egemin.Etricc.Components.FieldPointService, Egemin.Etricc.Components" sequencenumber="0" />
     
      <componentinstance uid="11" blueprinttype="Egemin.Etricc.Components.BatteryService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="12" blueprinttype="Egemin.Etricc.Components.ChargerService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="13" blueprinttype="Egemin.Etricc.Components.StationService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="14" blueprinttype="Egemin.Etricc.Components.WeekPlanService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="15" blueprinttype="Egemin.Etricc.Components.ScriptingService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="16" blueprinttype="Egemin.Etricc.Components.ReportingService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="21" blueprinttype="Egemin.Epia.Components.VersionInformation.ServerVersionInformationManager, Egemin.Epia.Components" sequencenumber="0" />
      <componentinstance uid="22" blueprinttype="Egemin.Epia.Components.FileWatch.DirectoryWatcher, Egemin.Epia.Components" sequencenumber="3" />
      <componentinstance uid="23" blueprinttype="Egemin.Epia.Components.FileWatch.DirectoryWatcher, Egemin.Epia.Components" sequencenumber="3" />
      <componentinstance uid="24" blueprinttype="Egemin.Etricc.Components.LocationSideViewService, Egemin.Etricc.Components" sequencenumber="0" />
      <componentinstance uid="25" blueprinttype="Egemin.Etricc.Components.BatteryGraphService, Egemin.Etricc.Components" sequencenumber="0" />
    </componentinstances>
    <connections>
      <connection>
        <requiredport uid="1" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="2" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="3" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="4" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="5" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="6" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="7" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="8" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="9" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
 
      <connection>
        <requiredport uid="11" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="12" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="13" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="14" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="15" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="16" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="21" portname="DirectoryWatcher" />
        <providedport uid="22" portname="IDirectoryWatcher" />
      </connection>
      <connection>
        <requiredport uid="22" portname="DirectoryChangedListeners" />
        <providedport uid="21" portname="IDirectoryChangedListener" />
      </connection>
      <connection>
        <requiredport uid="15" portname="DirectoryWatcher" />
        <providedport uid="23" portname="IDirectoryWatcher" />
      </connection>
      <connection>
        <requiredport uid="23" portname="DirectoryChangedListeners" />
        <providedport uid="15" portname="IDirectoryChangedListener" />
      </connection>
      <connection>
        <requiredport uid="24" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
      <connection>
        <requiredport uid="25" portname="EtriccCore" />
        <providedport uid="0" portname="IEtriccCore" />
      </connection>
    </connections>
    <wcfservicedescriptionproviders>
      <wcfservicedescriptionprovider providerType="Egemin.Epia.Foundation.ServiceModel.FileBasedWcfServiceDescriptionProvider, Egemin.Epia.Foundation" />
    </wcfservicedescriptionproviders>
  </epia.componentconfiguration>
  <loggingConfiguration name="Logging Application Block" tracingEnabled="true" defaultCategory="General" logWarningsWhenNoCategoriesMatch="false">
    <listeners>
      <add source="Enterprise Library Logging" formatter="Text Formatter" log="Application" machineName="" listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.FormattedEventLogTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging" traceOutputOptions="None" filter="Error" type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedEventLogTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging" name="Formatted EventLog TraceListener" />
      <add fileName=".\Log\EtriccServices.log" footer="" formatter="Text Formatter" header="" rollFileExistsBehavior="Overwrite" rollInterval="Midnight" rollSizeKB="0" timeStampPattern="yyyy-MM-dd" listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.RollingFlatFileTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging" traceOutputOptions="None" filter="All" type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.RollingFlatFileTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging" name="Rolling Flat File Trace Listener" />
    </listeners>
    <formatters>
      <add template="{timestamp(local:yyyy-MM-dd HH:mm:ss.fff)} | {severity} ({priority}) | {category} | {message}" type="Microsoft.Practices.EnterpriseLibrary.Logging.Formatters.TextFormatter, Microsoft.Practices.EnterpriseLibrary.Logging" name="Text Formatter" />
    </formatters>
    <categorySources>
    </categorySources>
    <specialSources>
      <allEvents switchValue="Warning" name="All Events">
        <listeners>
          <add name="Rolling Flat File Trace Listener" />
        </listeners>
      </allEvents>
      <notProcessed switchValue="All" name="Unprocessed Category" />
      <errors switchValue="All" name="Logging Errors &amp; Warnings">
        <listeners>
          <add name="Formatted EventLog TraceListener" />
        </listeners>
      </errors>
    </specialSources>
  </loggingConfiguration>
  <system.serviceModel>
    <behaviors>
      <serviceBehaviors>
        <behavior name="EpiaBehavior">
          <serviceThrottling maxConcurrentCalls="10000" maxConcurrentSessions="10000" maxConcurrentInstances="10000" />
          <dataContractSerializer maxItemsInObjectGraph="2147483647" />
          <serviceDebug httpHelpPageEnabled="false" httpsHelpPageEnabled="false" includeExceptionDetailInFaults="true" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <bindings>
      <customBinding>
        <binding name="EpiaBinding_Unsecured" closeTimeout="00:00:10" openTimeout="00:00:10" receiveTimeout="00:00:30" sendTimeout="00:00:30">
          <reliableSession maxPendingChannels="10000" ordered="false" />
          <binaryMessageEncoding>
            <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647" />
          </binaryMessageEncoding>
          <tcpTransport maxReceivedMessageSize="2147483647" maxPendingConnections="10000" listenBacklog="10000">
            <connectionPoolSettings maxOutboundConnectionsPerEndpoint="10000" />
          </tcpTransport>
        </binding>

      </customBinding>
    </bindings>
    <services>

    </services>
  </system.serviceModel>
<startup><supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.7.2" /></startup>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-12.0.0.0" newVersion="12.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Practices.Unity" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.0.414.0" newVersion="2.0.414.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.0.2.0" newVersion="2.0.2.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.0.2.0" newVersion="2.0.2.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.AspNet.SignalR.Core" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.4.1.0" newVersion="2.1.2.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Autofac" publicKeyToken="17863af14b0044da" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.8.1.0" newVersion="4.8.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Http" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.7.0" newVersion="5.2.7.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
</configuration>
